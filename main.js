!function(){var e={562:function(){const e=document.querySelector(".header-button"),t=document.querySelector('form[name="edit"]'),n=(document.getElementById("save_button"),document.getElementById("cancel_button"),new XMLHttpRequest);function c(e){return`\n    <div class="ticket-card" data-id="${e.id}">\n        <div class="ticket-main">\n            <div class='ticket-status ${e.status}'></div>\n            <div class='ticket-content'>\n                <div class='ticket-name'>${e.name}</div>\n            </div>\n            <div class='ticket-data'>${e.created}</div>\n            <div class='ticket-actions'>\n                <span class='edit-button'>\n                    <span class="visually-hidden">Edit</span>\n                </span>\n                <span class='delete-button'>\n                    <span class="visually-hidden">Delete</span>\n                </span>\n            </div>\n        </div>\n        <div class="ticket-hidden">\n            <span class="ticket-description">${e.description}</span>\n        </div>\n    </div>\n    `}n.open("GET","http://localhost:8080/?method=allTickets"),n.send(),e.addEventListener("click",(()=>{t.style.display="block";const e=t.querySelector("#input_name"),c=t.querySelector("#input_description"),i=t.querySelector(".submit-button"),o=t.querySelector(".cancel-button"),s=new FormData;i.addEventListener("click",(i=>{i.preventDefault(),s.append("name",e.value),s.append("description",c.value),n.open("POST","http://localhost:8080/?method=createTicket"),n.send(s),t.style.display="none",location.reload()})),o.addEventListener("click",(()=>{e.value="",c.value="",t.style.display="none"}))})),n.addEventListener("load",(()=>{if(n.status>=200&&n.status<300)try{const e=JSON.parse(n.responseText),i=document.querySelector(".tickets-list");i.innerHTML="",Array.from(e).forEach((e=>{i.insertAdjacentHTML("beforeend",`${c(e)}`)})),Array.from(i.querySelectorAll(".ticket-card")).forEach((o=>{o.addEventListener("click",(e=>{e.target.classList.contains("ticket-content")&&o.querySelector(".ticket-hidden").classList.toggle("ticket-visible")})),o.querySelector(".delete-button").addEventListener("click",(()=>{n.open("POST",`http://localhost:8080/?method=deleteTicket&id=${o.dataset.id}`),n.send(),n.open("GET","http://localhost:8080/?method=allTickets"),n.send(),i.innerHTML="",Array.from(e).forEach((e=>{i.insertAdjacentHTML("beforeend",`${c(e)}`)}))})),o.querySelector(".edit-button").addEventListener("click",(()=>{t.style.display="block";const e=t.querySelector("#input_name"),c=t.querySelector("#input_description"),i=t.querySelector(".submit-button"),s=t.querySelector(".cancel-button");console.log(o),e.value=o.querySelector(".ticket-name").textContent,c.value=o.querySelector(".ticket-description").textContent;const a=new FormData;i.addEventListener("click",(()=>{a.append("name",e.value),a.append("description",c.value),n.open("POST",`http://localhost:8080/?method=editTicket&id=${o.dataset.id}`),n.send(a),t.style.display="none",location.reload()})),s.addEventListener("click",(()=>{t.style.display="none"}))})),o.querySelector(".ticket-status").addEventListener("click",(()=>{n.open("POST",`http://localhost:8080/?method=ticketDone&id=${o.dataset.id}`),n.send(),o.querySelector(".ticket-status").classList.toggle("true")}))}))}catch(e){console.error(e)}}))}},t={};function n(c){var i=t[c];if(void 0!==i)return i.exports;var o=t[c]={exports:{}};return e[c](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(562)}()}();
//# sourceMappingURL=main.js.map